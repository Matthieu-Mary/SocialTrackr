<div class="card max-w-md mx-auto">
  <div class="card-header bg-primary-50">
    <h2 class="text-xl font-bold text-primary">Créer un compte</h2>
    <p class="text-sm text-neutral-600 mt-1">
      Suivez vos amis sur les réseaux sociaux
    </p>
  </div>

  <div class="card-body">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-4">
      <!-- Nom d'utilisateur -->
      <div>
        <label for="username" class="form-label">Nom d'utilisateur</label>
        <input
          type="text"
          id="username"
          formControlName="username"
          class="form-input"
          placeholder="Entrez votre nom d'utilisateur"
        />
        @if (hasError('username', 'required')) {
        <div class="form-error">Le nom d'utilisateur est requis</div>
        } @if (hasError('username', 'minlength')) {
        <div class="form-error">
          Le nom d'utilisateur doit contenir au moins 3 caractères
        </div>
        }
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="form-label">Adresse email</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          class="form-input"
          placeholder="exemple@email.com"
        />
        @if (hasError('email', 'required')) {
        <div class="form-error">L'adresse email est requise</div>
        } @if (hasError('email', 'email')) {
        <div class="form-error">Veuillez entrer une adresse email valide</div>
        }
      </div>

      <!-- Mot de passe -->
      <div>
        <label for="password" class="form-label">Mot de passe</label>
        <div class="relative">
          <input
            [type]="passwordVisible ? 'text' : 'password'"
            id="password"
            formControlName="password"
            class="form-input pr-10"
            placeholder="Créez un mot de passe sécurisé"
          />
          <button
            type="button"
            class="absolute inset-y-0 right-0 pr-3 flex items-center text-neutral-500"
            (click)="togglePasswordVisibility()"
          >
            <span class="text-xs">{{
              passwordVisible ? "Masquer" : "Afficher"
            }}</span>
          </button>
        </div>
        @if (hasError('password', 'required')) {
        <div class="form-error">Le mot de passe est requis</div>
        } @if (hasError('password', 'minlength')) {
        <div class="form-error">
          Le mot de passe doit contenir au moins 8 caractères
        </div>
        } @if (hasError('password', 'pattern')) {
        <div class="form-error">
          Le mot de passe doit contenir au moins une lettre majuscule, une
          lettre minuscule, un chiffre et un caractère spécial
        </div>
        }
      </div>

      <!-- Confirmation mot de passe -->
      <div>
        <label for="confirmPassword" class="form-label"
          >Confirmer le mot de passe</label
        >
        <div class="relative">
          <input
            [type]="confirmPasswordVisible ? 'text' : 'password'"
            id="confirmPassword"
            formControlName="confirmPassword"
            class="form-input pr-10"
            placeholder="Confirmez votre mot de passe"
          />
          <button
            type="button"
            class="absolute inset-y-0 right-0 pr-3 flex items-center text-neutral-500"
            (click)="toggleConfirmPasswordVisibility()"
          >
            <span class="text-xs">{{
              confirmPasswordVisible ? "Masquer" : "Afficher"
            }}</span>
          </button>
        </div>
        @if (hasError('confirmPassword', 'required')) {
        <div class="form-error">
          La confirmation du mot de passe est requise
        </div>
        } @if (hasError('confirmPassword', 'passwordMismatch')) {
        <div class="form-error">Les mots de passe ne correspondent pas</div>
        }
      </div>

      <div class="pt-2">
        <p class="text-xs text-neutral-500 mb-4">
          En vous inscrivant, vous acceptez nos
          <a href="#" class="text-primary">Conditions d'utilisation</a> et notre
          <a href="#" class="text-primary">Politique de confidentialité</a>
        </p>

        <div class="flex space-x-4">
          <button
            type="button"
            (click)="onCancel()"
            class="btn-secondary flex-1"
          >
            Annuler
          </button>
          <button type="submit" class="btn-primary flex-1">S'inscrire</button>
        </div>
      </div>
    </form>
  </div>

  <div class="card-footer">
    <p class="text-sm text-center">
      Vous avez déjà un compte?
      <a routerLink="/login" class="text-primary font-medium">Connectez-vous</a>
    </p>
  </div>
</div>
